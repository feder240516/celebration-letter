{"version":3,"sources":["assets/letter envelope 3.svg","assets/audio/speak.wav","assets/audio/sea2.mp3","components/Letter/Letter.js","App.js","reportWebVitals.js","index.js"],"names":["Letter","props","letterClicked","envelopeRef","current","classList","add","letterRef","seaAudioRef","play","setTimeout","letterExtracted","state","animatingCard","finishedPage","letterExpanded","remove","setState","startWriting","currentPage","contentRef","renderedText","currentText","split","map","w","i","audioPool","AUDIO_POOL_SIZE","push","ref","audioRefs","src","speak","pageNumber","letterNumber","text","length","intervalID","setInterval","pauses","clearInterval","currentLetter","lastUsedAudio","reduce","a","b","React","createRef","sender","destiny","hiddenText","this","forEach","audio","playbackRate","volume","className","onClick","id","envelope3","alt","hidden","loop","sea","Component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c07be921.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/letter envelope 3.ec56afea.svg\";","export default __webpack_public_path__ + \"static/media/speak.15937bc4.wav\";","export default __webpack_public_path__ + \"static/media/sea2.f2645439.mp3\";","import React, { Component } from 'react';\r\nimport './Letter.scss';\r\nimport envelope3 from '../../assets/letter envelope 3.svg'\r\nimport speak from '../../assets/audio/speak.wav';\r\nimport sea from '../../assets/audio/sea2.mp3';\r\n\r\nexport default class Letter extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.AUDIO_POOL_SIZE = 1;\r\n    this.letterRef = React.createRef();\r\n    this.envelopeRef = React.createRef();\r\n    this.contentRef = React.createRef();\r\n    this.audioRefs = []\r\n    for(let i = 0; i < this.AUDIO_POOL_SIZE; ++i){\r\n      this.audioRefs.push(React.createRef());\r\n    }\r\n    this.seaAudioRef = React.createRef();\r\n    this.text = [\r\n      'This is a format for a letter to a dear friend, a lover or anyone in the middle.',\r\n      'If you want to use it, be free to fork the github project, and edit the file components/Letter/Letter.js',\r\n      'I had other things in mind when creating the project, so there may be some garbage files.',\r\n      'In the future, I may update this project to allow generating customized letters without having to fork it, so be patient.',\r\n      'Thank you for checking this project. I have some other projects you may like in my github page at https://github.com/feder240516/'\r\n    ];\r\n    this.sender = 'Federico Reina, dev'\r\n    this.destiny = 'Anyone who reads this.'\r\n    this.state = {\r\n      currentText: '',\r\n      hiddenText: '',\r\n      letterNumber: 0,\r\n      pauses: 0,\r\n      lastUsedAudio: 0,\r\n      finishedPage: true,\r\n      letterExpanded: false,\r\n      currentPage: 0,\r\n      animatingCard: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.audioRefs.forEach(audio => {\r\n      audio.current.playbackRate = 2.5\r\n      audio.current.volume = 0.5;\r\n    });\r\n    this.seaAudioRef.current.volume = 0.2;\r\n  }\r\n\r\n  letterClicked = () => {\r\n    this.envelopeRef.current.classList.add('open');\r\n    this.letterRef.current.classList.add('open');\r\n    this.seaAudioRef.current.play();\r\n    setTimeout(() => {\r\n      this.envelopeRef.current.classList.add('back');\r\n    }, 600)\r\n    setTimeout(() => {\r\n      this.letterRef.current.classList.add('to-bottom');\r\n    },1000);\r\n  }\r\n\r\n  letterExtracted = () => {\r\n    if (this.state.animatingCard || !this.state.finishedPage) { return; }\r\n\r\n    if (this.state.letterExpanded) { this.letterExpanded(); }\r\n    else {\r\n      this.letterRef.current.classList.remove('to-bottom');\r\n      this.letterRef.current.classList.add('to-full-bottom');\r\n      this.setState((state,props) => ({...state, animatingCard: true}))\r\n      setTimeout(() => {\r\n        this.letterExpanded();\r\n      }, 1000);\r\n    } \r\n  }\r\n\r\n  letterExpanded = () => {\r\n    if (this.state.letterExpanded){\r\n      this.startWriting(this.state.currentPage);\r\n    } else{\r\n      this.setState((state, props) => {\r\n        return {...state, animatingCard: true};\r\n      })\r\n      this.contentRef.current.classList.add('scale-up-center');\r\n      setTimeout(() => {\r\n        this.startWriting(0);\r\n      },1500);\r\n    }\r\n  }\r\n\r\n  renderedText = () => {\r\n    return (\r\n      <>\r\n        {this.state.currentText.split('\\n').map((w, i) => (\r\n          <>\r\n            <span>{w}</span>\r\n            <br/>\r\n          </>\r\n        ))}\r\n      </>\r\n    )\r\n  }\r\n\r\n  audioPool = () => {\r\n    \r\n    const audioPool = [];\r\n    for(let i = 0; i < this.AUDIO_POOL_SIZE; ++i){\r\n      audioPool.push(\r\n        <audio key={i} ref={this.audioRefs[i]}>\r\n          <source src={speak}></source>\r\n        </audio>\r\n      );\r\n    }\r\n    return audioPool\r\n  }\r\n\r\n  startWriting = (pageNumber) => {\r\n    this.setState((state, props) => {\r\n      return {...state,\r\n               finishedPage: false, \r\n               currentPage: pageNumber + 1, \r\n               currentText: '', \r\n               letterNumber: 0, \r\n               animatingCard: false,\r\n                letterExpanded: true,\r\n              };\r\n    })\r\n    if (pageNumber < this.text.length){\r\n      let intervalID = setInterval(() => {\r\n        this.setState((state, props) => {\r\n          if (state.pauses > 0) { return {...state, pauses: state.pauses - 1}}\r\n          if (state.letterNumber >= this.text[pageNumber].length) {\r\n            clearInterval(intervalID);\r\n            return {...state, finishedPage: true};\r\n          }\r\n          const currentLetter = this.text[pageNumber][state.letterNumber];\r\n          let pauses = 0;\r\n          if (currentLetter === '.'){ pauses = 5; }\r\n          if (currentLetter === ','){ pauses = 3; }\r\n          if (currentLetter !== ' ' && currentLetter !== '\\n') { this.audioRefs[state.lastUsedAudio].current.play(); }\r\n          return {\r\n            currentText: state.currentText + this.text[pageNumber][state.letterNumber],\r\n            letterNumber: state.letterNumber + 1,\r\n            pauses: pauses,\r\n            lastUsedAudio: (state.lastUsedAudio + 1) % this.AUDIO_POOL_SIZE,\r\n          }\r\n        })\r\n      }, 40);\r\n    } else {\r\n      this.setState((state, props) => {\r\n        return {...state, currentText: this.text.reduce((a,b) => `${a}\\n\\n${b}`)};\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      <div className=\"letter--wrapper\">\r\n        \r\n        <div className='letter' ref={this.letterRef}>\r\n          \r\n          <div className=\"doblez-1\" ref={this.envelopeRef} onClick={this.letterClicked}>\r\n            <img id=\"envelope\" src={envelope3} alt=\"\"/>\r\n          </div>\r\n          <div className=\"border\" onClick={this.letterClicked}></div>\r\n          <div className=\"cover\" onClick={this.letterClicked}>\r\n            <div className=\"destiny\">To: <u>{this.destiny}</u><br/>From: <u>{this.sender}</u></div>\r\n          </div>\r\n          <div className=\"content with-scrollbar\" ref={this.contentRef} onClick={this.letterExtracted}>\r\n            {this.renderedText()}\r\n            <span className=\"continue\" hidden={!this.state.finishedPage || this.state.animatingCard || !this.state.letterExpanded}>\r\n              Click to continue\r\n            </span>\r\n            <span className=\"click-here\" hidden={this.state.letterExpanded || this.state.animatingCard}>\r\n              Click here!\r\n            </span>\r\n          </div>\r\n            \r\n        </div>\r\n      </div>\r\n      <audio id=\"sea-audio-ref\" ref={this.seaAudioRef} loop>\r\n          <source src={sea}></source>\r\n      </audio>\r\n      {this.audioPool()}\r\n      </>\r\n    )\r\n  }\r\n}","import Letter from './components/Letter/Letter';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Letter />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}